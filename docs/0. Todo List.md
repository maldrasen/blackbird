Just as good as project management!

---

# Current Task
### Training Systems
I now need to get the training system in a workable state. That's the primary focus of the game, so I want
to make that work before including anything else like day to day exploration, events, combat, anything that's not
directly related to training, stubbing things out as needed. I've got the consent calculations in a decent state. Working on the training view interface now. 
##### Next Steps
- Hide the impossible sex actions. There are actions that are either impossible because of the current context, (There's no fondle breasts action when the partner has no breasts) or are actions that have not been discovered or unlocked somehow.
- Disable actions that might become possible, but are currently unavailable. This would be actions that require a certain arousal threshold (i.e. cock must be erect) though there might be other requirements as well.
- Calculate consent for actions that are possible.
- Display tooltip for each action, including action description and consent calculation details.
- When an action is clicked, be build a command, send it to the state maching to be picked up by the training system, which then does the sensation calculations.

# Primary Tasks

### Rework Personality
I don't think the current personality plan is going to work at all actually. It's good in theory, but the purpose of a personality is to produce dialog messages, and make decisions. Getting from the big 5 model to that is overly convoluted. I think I'll simplify this by first considering species and gender. I think a lot of dialog could be simply resolved by seeing that 'this is a male kobold' and would act and speak in a certain way. Because we want some variety with species/gender combos, we can optionally add a personality archetype to the character, something like noble, thug, bimbo, etc. These could just be a code that references a data object, or another personality component where we can tweak the 'strength' of the archetype. The personality will need to be able answer questions like, how violent is this character? Hmm, but probably only in ways that aren't already covered by the animus scales, sexual preferences, and attributes. We know a character is a bimbo if they have big tits, a low intelligence, and high sexual preference values. In other words, a character's personality is already mostly determined within existing components, their species, and their gender. So the personality component will just need to add a few missing pieces, then we have a module that generates dialog and answers personality questions based on all of this character data we have.

### Dungeon Builder
Just to have something I can work on in public. I'm building rooms and simple one room features. Current goal here is to populate a dungeon level with features up to a target density. Add smaller corridors to make sure that everything is reachable. Then add doors to make sure that every part of the dungeon can be reached.

---

# Secondary Tasks

### Update Consent Calculations
The consent calculations are only about half finished, in a state where it's good enough to move onto other tasks in the training system. I'll need to go back and implement the rest of this.
- Apply personality factors, once they've been reworked.
- Need to also read current scale values, as the current anima and animus values should effect consent.
- A few aspects (like erogenousThroat) might effect consent.
- Health and stamina? Being injured should reduce consent in general. What about stamina?
- Body part fit will also need to be taken into account. We'll need a general, will part fit into part class. Will it fit? Will it hurt? (Do you want it to hurt?) Will it be satisfying? Not big enough? Clearly a more complicated factor.
- Marks. The hate marks and lust marks should definitely effect consent.

### Arousal Adjustments for Min and Max Orifice Width
High arousal levels should increase resting max width, maybe by 30% or so. This would need to read the arousal from the arousal component and the width from the orifice, to calculate the working max width. Arousal should also increase min width size, replicating an opening aroused pussy.

### Dances
When adding the striptease action, I started to think about other related sex actions. Once a player is nude they could perform a sensual dance as an action. There could be other dances as well, degrading, or self abusive dances. These dances should need to be learned somehow, and perhaps there should be a dancing skill. And if I'm adding all these mechanics then dancing should be an combat skill as well. Dances to arouse the opponents, or attract their attacks, or enthrall them. Assistants should have a dance task that aids the arousal buildup. During training we probably want to make dances all follow on actions of a single sensual dance action, and the dance can change to another type of dance. The 'dancing in front of' position is very limiting, and most player actions would stop the partner from dancing. There might be a few I could see working, like a slap ass or tits while dancing, a whip while dancing action, maybe a jack off while watching action (that would be available for all performance actions now that I think about it.)

### Drugs
Drugs or alcohol can be used as mood enhancers. Drugging a person against their will would of course produce anger, but you could be sneaky about it, if we had some kind of slight of hand skill. A strong enough drug and they won't even remember. A drugged character doesn't receive as much anima or animus, the amount reduced should depend on drug strength.

We're going to have a variety of drugs with different methods for giving them to the partner. They could be drunk, injected, inserted like a suppository, maybe even smoked or snorted. The way a drug is taken effects the consent values for the action, and also the effect in some cases. A sensitivity drug might be localized to only work on the part where it is inserted or injected.

This drug action though is very complex. I think I need to have a single 'use drug' action that starts an event. In the event you select which drug from your inventory, and where and how you want to administer it. The final choice in this event should use the same consent results, which would mean that the consent result model needs to also calculate consent for arbritrary event actions as well. That shouldn't be too involved, just using the same consent factors and target value.

Drugged should be a priority status effect that appears early in the sex action text tree, as the drugged version of a personality might be wholly different from their normal personality. Although some drugs, that only effect sensitivity, won't change personality at all.

### Lactation
We set the breast's lactationFactor to 0 when we create a character. The `milky` trigger can then set lactation to a value between 90 and 100. We don't have any other systems that actually use this property though.

### Sex Fluids
We should keep track of the fluids (cum, piss, milk, vomit) produced by each actor during training, keeping track of how much fluid goes into each orifice separately. It should be possible for a character to be impregnated during a training scene. It's possible that if the player and an assistant both came in the partner's womb we won't know who got that character pregnant. Need systems for all fluid volumes, how much a character cums, how much urine is in their bladder, etc. 

### Sanity System
Some training actions will damage a character's sanity. We should have a system that slowly increases sanity. Maybe by default this could be a single point a day, but a comfortable environment will raise that. Conversely, a particularly bad environment (enforced bondage rules) would drop sanity every day. If sanity drops to 0 overnight, we could enqueue a mindbreak event where the player finds the character in a broken state.

### Mood
Do we need a 'mood' variable as well. Mood could be set when the training is started. Could be based on a lot of different factors, but having the mood reflect the current emotional state of the partner character would start the training off at an advantage or disadvantage. Mood would be more variable than the other emotion scales. Could also be enhanced by some sex actions, and changed by the training sensations. Sounds like mood could be an entirely new scale, though it would also persist outside of training. Hmm, just something to consider.


---

# Long Term Plans

### Tails and Horns
I'm going to build the body with tails and horns as simple string types at first. I think this will work in most cases. It's usually enough to simply state that a character has a dog tail for instance. Eventually I'll want to include things like tail cocks, which will need a more complex tail component that has a child cock component. The same could be said for some kind of unicorn horn type cock. Dicks everywhere! We can do this by setting the type to `_component`, then we would know that the details can be found in a Tail or Horn component. Not just dicks, but something like horn length or color might be important.

### Body piercings
The various body components either have associated components or have the body piercing data on the component itself. It kind of makes sense to just have piercing information as properties of the component. The breast component could have a simple piercingType property. However, depending on how deep I want to go here, a piercing component could be a child of another component. The breasts could have several piercings at once, nipple bars and areola rings at the same time. Each piercing could have a material. They could even carry enchantments so they would also count as equipment. And if that's the case then we'd need to see about equipping and unequipping various body piercings as a type of jewelry. Definitely more of a long term goal.

### Sexual History
One thing that's often tracked in Era games is who a character lost their various virginities to, first kisses, first anal fisting, all that. That's never really interested me, but something that some players might care about. It's easy enough to keep track of virginity status for already virgin characters. For players who start with some experience though there's no way to really construct a whole sexual history that's connected to other characters. I could just specify that it's someone you don't personally know. That might be the cleanest implementation. I should differentiate between someone you don't know and someone who the character themselves don't know, which has a different implication. I could also spell out their relationship. Was it their boyfriend, their boss, their father?

### All the way though
We've added a throat depth for the deepthroating activities, and can detect when stomach penetration happens. We could also add a gut length for an "all the way through" action. Perhaps there's an intestinal straightening magic that exists to make that possible? We should also add the case when a character has a massive volume of cum, and they cum during anal sex or deepthroating, then we should trigger cum vomiting or an anal cum explosion.

### Future Sex Actions / Features / Body Part Types
- Fuckable Nipples / Nipple cunts / Breast wombs and pregnancy
- Dick Nipples
- Penis tongue
- Tongue/s growing inside of anus.
- Fuckable Navel
- Ear Canal Penetration
- Ovipositors
- Tentacle Magic
- Internal Tentacles
- Vomit play
